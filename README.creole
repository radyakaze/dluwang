=== Usage

Open {{{index.html}}} or use bookmarklet in browser. Start editing, then just save the page to store it.

=== Bookmarklet
Select then drag and drop this URL to your bookmark toolbar (don't trust it without checking its content):
{{{
data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPHRpdGxlPm5vdGU8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAqIHsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgfQogICAgICBib2R5IHsKICAgICAgICBmb250OiAxNnB4LzEuMmVtIHNhbnMtc2VyaWY7CiAgICAgIH0KICAgICAgZGl2I2NvbnRhaW5lciB7CiAgICAgICAgd2lkdGg6IDUwdnc7CiAgICAgICAgbWFyZ2luOiAyZW0gYXV0bzsKICAgICAgfQogICAgICBbY29udGVudGVkaXRhYmxlXTpmb2N1cyB7CiAgICAgICAgb3V0bGluZTogMHB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICB9CiAgICAgIGxpIHsKICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICBwYWRkaW5nLWxlZnQ6IGNhbGMoMnB4ICsgMC41ZW0pOwogICAgICAgIG1hcmdpbi1ib3R0b206IDAuOGVtOwogICAgICB9CiAgICAgIGxpW2NvbnRlbnRlZGl0YWJsZV0gewogICAgICAgIGNvbG9yOiAjMTEzOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7CiAgICAgICAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjMTE2OwogICAgICAgIHBhZGRpbmctbGVmdDogMC41ZW07CiAgICAgIH0KICAgICAgaDEgewogICAgICAgIGZvbnQtc2l6ZTogMS42ZW07CiAgICAgICAgbGluZS1oZWlnaHQ6IDJlbTsKICAgICAgfQogICAgICBrYmQgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7CiAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNiNGI0YjQ7CiAgICAgICAgYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgLjIpLCAwIDJweCAwIDAgcmdiYSgyNTUsIDI1NSwgMjU1LCAuNykgaW5zZXQ7CiAgICAgICAgZm9udC1zaXplOiAuODVlbTsKICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgIHBhZGRpbmc6IDJweCA0cHg7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgoKICA8Ym9keT4KICAgIDxkaXYgaWQ9ImNvbnRhaW5lciI+CiAgICAgIDxoMSBjbGFzcz0iZWRpdGFibGUiIGlkPSJ0aXRsZSI+VGl0bGU8L2gxPgogICAgICA8dWwgaWQ9InJvb3QiPgogICAgICAgIDxsaSBjbGFzcz0iZWRpdGFibGUiPgogICAgICAgICAgU2FtcGxlIG5vdGUgaXRlbS48YnIgLz4KICAgICAgICAgIDxiciAvPgogICAgICAgICAgUHJlc3MgPGtiZD5UYWI8L2tiZD4gb3IgPGtiZD5DdHJsPC9rYmQ+K2NsaWNrIG9uIFRpdGxlIG9yIGFueSBpdGVtIHRvIHN0YXJ0IGVkaXRpbmcuPGJyIC8+CiAgICAgICAgICA8YnIgLz4KICAgICAgICAgIFdoZW4gZWRpdGluZyBUaXRsZSBvciBub3RlIGl0ZW0sIHByZXNzIDxrYmQ+Q3RybDwva2JkPis8a2JkPlVwPC9rYmQ+LzxrYmQ+RG93bjwva2JkPiBvciA8a2JkPlRhYjwva2JkPi88a2JkPlNoaWZ0PC9rYmQ+KzxrYmQ+VGFiPC9rYmQ+IHRvIG1vdmUgYXJvdW5kIGJldHdlZW4gdGl0bGUgYW5kIG5vdGUgaXRlbXMuPGJyIC8+CiAgICAgICAgICA8YnIgLz4KICAgICAgICAgIFdoZW4gZWRpdGluZyBub3RlIGl0ZW0sIHByZXNzaW5nIDxrYmQ+Q3RybDwva2JkPis8a2JkPkVudGVyPC9rYmQ+IHdpbGwgYWRkIG5ldyBub3RlIGl0ZW0sIHdoaWxlIDxrYmQ+Q3RybDwva2JkPis8a2JkPkJhY2tzcGFjZTwva2JkPiBvbiBhbiBlbXB0eSBub3RlIGl0ZW0gd2lsbCBkZWxldGUgaXQuPGJyIC8+CiAgICAgICAgICA8YnIgLz4KICAgICAgICAgIFByZXNzIDxrYmQ+RXNjPC9rYmQ+IHRvIHVuZm9jdXMvc3RvcCBlZGl0aW5nLjxiciAvPgogICAgICAgICAgPGJyIC8+CiAgICAgICAgICBTYXZlIGFzIEhUTUwgcGFnZSB0byBzdG9yZSBpdCBwZXJtYW5lbnRseS4KICAgICAgICA8L2xpPgogICAgICA8L3VsPgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgZnVuY3Rpb24gbWFpbigpIHsKICAgICAgICBjb25zdCBmaXJzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ1bCNyb290ID4gbGkiKTsKICAgICAgICBzZXR1cEVkaXRhYmxlTGlzdChmaXJzdEl0ZW0pOwoKICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoImlkLWlkIik7IC8vIGRkL21tL1lZWVkKICAgICAgICBjb25zdCBpbml0aWFsVGl0bGUgPSBgTm90ZSAke2RhdGV9YDsKICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aXRsZSIpOwoKICAgICAgICBkb2N1bWVudC50aXRsZSA9IGluaXRpYWxUaXRsZTsKICAgICAgICBzZXR1cFRpdGxlRWxlbWVudCh0aXRsZSwgaW5pdGlhbFRpdGxlKTsKCiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgKGUpID0+IHsKICAgICAgICAgIGlmIChlLmtleSA9PSAiRXNjYXBlIikgewogICAgICAgICAgICBpbmFjdGl2YXRlQ3VycmVudEFjdGl2ZUVkaXRhYmxlKCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGUua2V5ID09ICJUYWIiICYmICFhY3RpdmVFZGl0YWJsZSgpKSB7CiAgICAgICAgICAgIHN3aXRjaEVkaXRhYmxlKGFsbEVkaXRhYmxlKClbMF0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZXR1cFRpdGxlRWxlbWVudChlbGVtZW50LCB0aXRsZVRleHQpIHsKICAgICAgICBlbGVtZW50LmlubmVyVGV4dCA9IHRpdGxlVGV4dDsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgb25MaXN0S2xpayk7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsICgpID0+IHsKICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gZWxlbWVudC5pbm5lclRleHQ7CiAgICAgICAgfSk7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgaGFuZGxlTW92ZW1lbnRLZXlzKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2V0dXBFZGl0YWJsZUxpc3QoZWxlbWVudCkgewogICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBvbkxpc3RLbGlrKTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBoYW5kbGVJdGVtQWN0aW9uS2V5cyk7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgaGFuZGxlTW92ZW1lbnRLZXlzKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYWN0aXZlRWRpdGFibGUoKSB7CiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGl2ZT0idHJ1ZSJdJyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG9uTGlzdEtsaWsoZXZlbnQpIHsKICAgICAgICBjb25zdCBjbGlja2FibGUgPSBldmVudC5jdXJyZW50VGFyZ2V0OwoKICAgICAgICBpZiAoIWV2ZW50LmN0cmxLZXkgfHwgY2xpY2thYmxlLmRhdGFzZXQuYWN0aXZlID09ICJ0cnVlIikgcmV0dXJuOwoKICAgICAgICBzd2l0Y2hFZGl0YWJsZShjbGlja2FibGUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBpbmFjdGl2YXRlQ3VycmVudEFjdGl2ZUVkaXRhYmxlKCkgewogICAgICAgIGNvbnN0IGFjdGl2ZSA9IGFjdGl2ZUVkaXRhYmxlKCk7CgogICAgICAgIGlmIChhY3RpdmUpIHsKICAgICAgICAgIGFjdGl2ZS5ibHVyKCk7CiAgICAgICAgICBhY3RpdmUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLWFjdGl2ZSIpOwogICAgICAgICAgYWN0aXZlLnJlbW92ZUF0dHJpYnV0ZSgiY29udGVudGVkaXRhYmxlIik7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBzd2l0Y2hFZGl0YWJsZShlbGVtZW50KSB7CiAgICAgICAgaW5hY3RpdmF0ZUN1cnJlbnRBY3RpdmVFZGl0YWJsZSgpOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImRhdGEtYWN0aXZlIiwgdHJ1ZSk7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7CiAgICAgICAgfSwgMTAwKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaGFuZGxlSXRlbUFjdGlvbktleXMoZXZlbnQpIHsKICAgICAgICBjb25zdCBwcmVzc2FibGUgPSBldmVudC5jdXJyZW50VGFyZ2V0OwoKICAgICAgICBpZiAoZXZlbnQua2V5ID09ICJFbnRlciIgJiYgZXZlbnQuY3RybEtleSkgewogICAgICAgICAgaW5zZXJ0TmV3SXRlbUFmdGVyKHByZXNzYWJsZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZXZlbnQua2V5ID09ICJCYWNrc3BhY2UiICYmIGV2ZW50LmN0cmxLZXkpIHsKICAgICAgICAgIHJlbW92ZUVsZW1lbnRJZkVtcHR5QW5kTm90QWxvbmUocHJlc3NhYmxlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdmVtZW50S2V5cyhldmVudCkgewogICAgICAgIGNvbnN0IHByZXNzYWJsZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7CgogICAgICAgIGlmIChldmVudC5rZXkgPT0gIkFycm93RG93biIgJiYgZXZlbnQuY3RybEtleSkgewogICAgICAgICAgY29uc3QgbmV4dEFjdGl2ZSA9IG5leHRTaWJsaW5nKHByZXNzYWJsZSk7CiAgICAgICAgICBpZiAobmV4dEFjdGl2ZSkgc3dpdGNoRWRpdGFibGUobmV4dEFjdGl2ZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZXZlbnQua2V5ID09ICJBcnJvd1VwIiAmJiBldmVudC5jdHJsS2V5KSB7CiAgICAgICAgICBjb25zdCBuZXh0QWN0aXZlID0gcHJldmlvdXNTaWJsaW5nKHByZXNzYWJsZSk7CiAgICAgICAgICBpZiAobmV4dEFjdGl2ZSkgc3dpdGNoRWRpdGFibGUobmV4dEFjdGl2ZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZXZlbnQua2V5ID09ICJUYWIiICYmICFldmVudC5zaGlmdEtleSkgewogICAgICAgICAgY29uc3QgbmV4dEFjdGl2ZSA9IG5leHRTaWJsaW5nKHByZXNzYWJsZSk7CiAgICAgICAgICBpZiAobmV4dEFjdGl2ZSkgc3dpdGNoRWRpdGFibGUobmV4dEFjdGl2ZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZXZlbnQua2V5ID09ICJUYWIiICYmIGV2ZW50LnNoaWZ0S2V5KSB7CiAgICAgICAgICBjb25zdCBuZXh0QWN0aXZlID0gcHJldmlvdXNTaWJsaW5nKHByZXNzYWJsZSk7CiAgICAgICAgICBpZiAobmV4dEFjdGl2ZSkgc3dpdGNoRWRpdGFibGUobmV4dEFjdGl2ZSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBpbnNlcnROZXdJdGVtQWZ0ZXIoZWxlbWVudCkgewogICAgICAgIGNvbnN0IGVsZW1lbnRQYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpOwogICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoImVkaXRhYmxlIik7CiAgICAgICAgZWxlbWVudFBhcmVudC5pbnNlcnRCZWZvcmUobGksIGVsZW1lbnQubmV4dFNpYmxpbmcpOwoKICAgICAgICBzZXR1cEVkaXRhYmxlTGlzdChsaSk7CiAgICAgICAgc3dpdGNoRWRpdGFibGUobGkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50SWZFbXB0eUFuZE5vdEFsb25lKGVsZW1lbnQpIHsKICAgICAgICBjb25zdCBub3RBbG9uZSA9IGVsZW1lbnQucGFyZW50Tm9kZS5jaGlsZHJlbi5sZW5ndGggPiAxOwoKICAgICAgICBpZiAoZWxlbWVudC50ZXh0Q29udGVudC5sZW5ndGggPT0gMCAmJiBub3RBbG9uZSkgewogICAgICAgICAgY29uc3QgbmV4dEFjdGl2ZSA9IHByZXZpb3VzU2libGluZyhlbGVtZW50KSB8fCBuZXh0U2libGluZyhlbGVtZW50KTsKCiAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpOwoKICAgICAgICAgIGlmIChuZXh0QWN0aXZlKSBzd2l0Y2hFZGl0YWJsZShuZXh0QWN0aXZlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFsbEVkaXRhYmxlKCkgewogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlZGl0YWJsZSIpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBwcmV2aW91c1NpYmxpbmcoZWxlbWVudCkgewogICAgICAgIGNvbnN0IGxpc3QgPSBbLi4uYWxsRWRpdGFibGUoKV07CiAgICAgICAgY29uc3Qgc2VsZkluZGV4ID0gbGlzdC5pbmRleE9mKGVsZW1lbnQpOwoKICAgICAgICByZXR1cm4gbGlzdFtzZWxmSW5kZXggLSAxXTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbmV4dFNpYmxpbmcoZWxlbWVudCkgewogICAgICAgIGNvbnN0IGxpc3QgPSBbLi4uYWxsRWRpdGFibGUoKV07CiAgICAgICAgY29uc3Qgc2VsZkluZGV4ID0gbGlzdC5pbmRleE9mKGVsZW1lbnQpOwoKICAgICAgICByZXR1cm4gbGlzdFtzZWxmSW5kZXggKyAxXTsKICAgICAgfQoKICAgICAgbWFpbigpOwogICAgPC9zY3JpcHQ+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==
}}}
